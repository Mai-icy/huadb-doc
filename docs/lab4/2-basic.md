# 基础功能

本次实验的目标比较明确，每次任务实现一个算子的 Next 函数，正确实现后便可通过该算子对应的测试。因此本次实验不再给出详细的实验步骤，你只需按照实验任务说明完成相应的算子即可。

基础功能中所有算子仅要求在内存中实现即可，如果你对外存算子的实现感兴趣，可以参考本次实验的高级功能。

## 任务 1：Limit 算子（3 分）

Limit 算子是本次实验最基础的一个任务，算子本身的实现非常简单，希望你通过这个任务熟悉实验框架中火山模型的运作流程。

你需要补充 limit_executor.cpp 中的 Next 函数，实现过程中你可能会用到对应的 LimitOperator 中的成员变量。你也可以为 LimitExecutor 增加新的成员变量来存储信息。

完成后你将通过 `10-limit.test` 测例。需要注意的是，为确保 limit 结果的唯一性，在该测例中使用了 order by 语句，而排序算子的实现是任务 2 的内容。但是该测例中所有排序均与插入顺序一致，因此只要你在 lab 1 中的实现可以保证读取顺序与插入顺序保持一致，便可以通过本测例。如果你的实现不能保证这一点，你可以在完成任务 2 后再来进行本测例的测试。

## 任务 2：排序算子（4 分）

你需要补充 orderby_executor.cpp 中的 Next 函数，与 Limit 算子类似，你可能会使用到 OrderByOperator 中的成员变量，从中获取排序的列以及排序的类型（升序还是降序），实现过程中可以使用 STL 的 sort 函数。

正确实现后你将通过 `20-sort.test` 测例。

## 任务 3：嵌套循环连接算子（4 分）

### 实验描述

连接算子具有多种实现方式，本次实验中要求实现 NestedLoopJoin 以及 MergeJoin 两类连接算法。前者算法实现简单，但复杂度较高；后者复杂度低，但依赖于排序算子的实现，且实现难度相对较高。总体而言，二者均为经典的连接算法，且实现方面易于修改为基于外存的连接算子。

### 实现思路

-   步骤 1：按照连接算子的功能需求补全 NestedLoopJoinExecutor 类，理解火山模型中算子如何同时处理多个子节点。

-   步骤 2：补全 MergeJoinExecutor 类，注意该算子假定底层子节点算子已经完成排序，因此该算子依赖于排序算子正确性。

## 任务 3：归并连接算子（4 分）
